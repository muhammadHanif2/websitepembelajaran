<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz C++</title>
<style>
    body { font-family: Arial, sans-serif; background: #f5f6fa; margin: 0; padding: 20px; }
    h1 { text-align: center; color: #2f3640; }
    .quiz-container { 
        max-width: 800px; 
        margin: auto; 
        background: #fff; 
        padding: 20px; 
        border-radius: 10px; 
        box-shadow: 0 4px 8px rgba(0,0,0,0.1); 
    }
    .question { margin-bottom: 20px; padding: 15px; border-bottom: 1px solid #ddd; }
    .question p { font-weight: bold; color: #333; }
    label { display: block; margin: 5px 0; padding: 8px; border-radius: 5px; cursor: pointer; transition: background 0.2s; }
    label:hover { background: #f0f0f0; }
    button { 
        background: #44bd32; color: white; padding: 12px 20px; border: none; 
        cursor: pointer; border-radius: 5px; font-size: 16px; display: block; margin: 20px auto; 
    }
    button:hover { background: #2ecc71; }
    #result { text-align: center; font-size: 20px; margin-top: 20px; font-weight: bold; }
    .answer-review { margin-top: 30px; padding: 15px; background: #f1f2f6; border-radius: 10px; }
    .answer-item { margin-bottom: 15px; padding: 10px; border-radius: 5px; }
    .correct { background-color: #d4edda; border: 1px solid #28a745; }
    .incorrect { background-color: #f8d7da; border: 1px solid #dc3545; }
    .actions { text-align: center; margin-top: 18px; }
    .btn-link, .retry-btn { display: inline-block; padding: 12px 18px; border-radius: 6px; text-decoration: none; font-weight: bold; margin: 6px; }
    .btn-link { background: #44bd32; color: #fff; }
    .btn-link:hover { background: #2ecc71; }
    .retry-btn { background: #487eb0; color: #fff; border: none; cursor: pointer; }
    .retry-btn:hover { background: #40739e; }
    .fail-msg { color: #c23616; font-weight: bold; margin-bottom: 6px; }
</style>
</head>
<body>

<h1>Quiz C++</h1>

<div class="quiz-container" id="quiz">
    <!-- Input nama -->
    <div style="margin-bottom:20px;">
        <label for="namaUser" style="font-weight:bold;">Nama Lengkap:</label>
        <input type="text" id="namaUser" placeholder="Masukkan nama Anda" style="width:100%;padding:10px;margin-top:5px;border:1px solid #ccc;border-radius:5px;" required>
    </div>

    <!-- Pertanyaan (template) -->
    <div class="question" data-correct="b">
        <p>1. C++ adalah bahasa pemrograman yang digunakan untuk?</p>
        <label><input type="radio" name="q1" value="a"> Mendesain website statis saja</label>
        <label><input type="radio" name="q1" value="b"> Membuat aplikasi desktop, sistem, dan game</label>
        <label><input type="radio" name="q1" value="c"> Hanya menulis dokumen teks</label>
        <label><input type="radio" name="q1" value="d"> Mengedit gambar</label>
    </div>

    <div class="question" data-correct="b">
        <p>2. Perintah untuk menampilkan data ke layar di C++ adalah?</p>
        <label><input type="radio" name="q2" value="a"> cin</label>
        <label><input type="radio" name="q2" value="b"> cout</label>
        <label><input type="radio" name="q2" value="c"> printf</label>
        <label><input type="radio" name="q2" value="d"> scanf</label>
    </div>

    <div class="question" data-correct="b">
        <p>3. Operator manakah yang digunakan untuk membandingkan kesamaan dua nilai?</p>
        <label><input type="radio" name="q3" value="a"> =</label>
        <label><input type="radio" name="q3" value="b"> == </label>
        <label><input type="radio" name="q3" value="c"> !=</label>
        <label><input type="radio" name="q3" value="d"> #++</label>
    </div>

    <div class="question" data-correct="b">
        <p>4. Switch statement cocok digunakan ketika?</p>
        <label><input type="radio" name="q4" value="a"> Hanya ada satu kondisi</label>
        <label><input type="radio" name="q4" value="b"> Ada banyak kemungkinan nilai dari sebuah variabel</label>
        <label><input type="radio" name="q4" value="c"> Selalu ingin mengeksekusi blok kode</label>
        <label><input type="radio" name="q4" value="d"> Tidak ada kondisi sama sekali</label>
    </div>

    <div class="question" data-correct="b">
        <p>5. Konsep OOPs yang memungkinkan membuat cetak biru objek disebut?</p>
        <label><input type="radio" name="q5" value="a"> Function </label>
        <label><input type="radio" name="q5" value="b"> Class </label>
        <label><input type="radio" name="q5" value="c"> Array </label>
        <label><input type="radio" name="q5" value="d"> Variable</label>
    </div>

     <div class="question" data-correct="c">
        <p>6. Loop yang selalu mengeksekusi minimal sekali sebelum mengecek kondisi adalah?</p>
        <label><input type="radio" name="q6" value="a"> For </label>
        <label><input type="radio" name="q6" value="b"> While </label>
        <label><input type="radio" name="q6" value="c"> Do-While </label>
        <label><input type="radio" name="q6" value="d"> Switch</label>
    </div>

    <div class="question" data-correct="b">
        <p>7. Bilangan heksadesimal biasanya diawali dengan?</p>
        <label><input type="radio" name="q7" value="a"> 0b </label>
        <label><input type="radio" name="q7" value="b"> 0x </label>
        <label><input type="radio" name="q7" value="c"> 0o </label>
        <label><input type="radio" name="q7" value="d"> #</label>
    </div>

    <div class="question" data-correct="b">
        <p>8. Function di C++ digunakan untuk?</p>
        <label><input type="radio" name="q8" value="a"> Menyimpan banyak data dalam satu variabel </label>
        <label><input type="radio" name="q8" value="b"> Mengelompokkan kode menjadi blok yang bisa dipakai ulang </label>
        <label><input type="radio" name="q8" value="c"> Menampilkan data ke layar </label>
        <label><input type="radio" name="q8" value="d"> Membuat keputusan berdasarkan kondisi</label>
    </div>

    <div class="question" data-correct="c">
        <p>9. Manakah pernyataan yang benar tentang array di C++?</p>
        <label><input type="radio" name="q9" value="a"> Array bisa menyimpan data berbeda tipe dalam satu array </label>
        <label><input type="radio" name="q9" value="b"> Array ukurannya bisa berubah secara otomatis </label>
        <label><input type="radio" name="q9" value="c"> Array menyimpan banyak data sejenis dalam satu variabel </label>
        <label><input type="radio" name="q9" value="d"> Array tidak bisa diakses menggunakan indeks</label>
    </div>

    <div class="question" data-correct="b">
        <p>10. Perbedaan utama vector dibanding array adalah?</p>
        <label><input type="radio" name="q10" value="a"> Vector ukurannya tetap, array bisa berubah </label>
        <label><input type="radio" name="q10" value="b"> AVector lebih fleksibel karena ukurannya bisa berubah-ubah </label>
        <label><input type="radio" name="q10" value="c"> Vector hanya untuk angka genap </label>
        <label><input type="radio" name="q10" value="d"> Vector tidak bisa menyimpan data sama sekali</label>
    </div>
    <!-- Tombol submit -->
    <button id="submitBtn" onclick="checkAnswers()">Submit</button>

    <div id="result"></div>
    <div id="answerReview" class="answer-review"></div>
    <div id="actions" class="actions"></div>
</div>

<script>
function checkAnswers() {
    const nama = document.getElementById('namaUser').value.trim();
    if (!nama) { alert("Masukkan nama lengkap dulu ðŸ™‚"); return; }

    const questions = document.querySelectorAll('.question');
    let correctCount = 0;
    let reviewHTML = "";

    questions.forEach((question, index) => {
        const correct = question.getAttribute('data-correct');
        const selected = question.querySelector('input[type="radio"]:checked');
        let isCorrect = false;
        let userAnswer = "<em>Tidak dijawab</em>";

        if (selected) {
            userAnswer = selected.nextSibling.textContent.trim();
            isCorrect = selected.value === correct;
            if (isCorrect) correctCount++;
        }

        const correctText = [...question.querySelectorAll('input')].find(i => i.value === correct).nextSibling.textContent.trim();
        reviewHTML += `<div class="answer-item ${isCorrect ? 'correct' : 'incorrect'}">
            <strong>Pertanyaan ${index+1}:</strong><br>
            Jawaban Anda: ${userAnswer}<br>
            Jawaban Benar: ${correctText}
        </div>`;
    });

    const percent = Math.round((correctCount / questions.length) * 100);

    localStorage.setItem("namaUser", nama);
    localStorage.setItem("nilaiQuizCpp", percent);

    if (percent >= 60) localStorage.setItem("quizcpp_selesai", "true");

    document.getElementById('result').innerText = `Nilai Anda: ${percent} / 100 (Benar ${correctCount} dari ${questions.length})`;
    document.getElementById('answerReview').innerHTML = reviewHTML;

    const actions = document.getElementById('actions');
    if (percent >= 60) {
        actions.innerHTML = `<a href="sertifikatcpp.html" class="btn-link">Lihat Sertifikat</a>`;
    } else {
        actions.innerHTML = `
            <div class="fail-msg">Maaf, Anda belum lulus (minimal 60).</div>
            <a href="matericpp1.html" class="btn-link">Ulangi Materi</a>
            <button type="button" class="retry-btn" onclick="resetQuiz()">Ulangi Quiz</button>
        `;
    }

    document.getElementById('submitBtn').disabled = true;
    updateProgressBar();
}

function resetQuiz() {
    document.querySelectorAll('input[type="radio"]').forEach(r => r.checked = false);
    document.getElementById('result').textContent = "";
    document.getElementById('answerReview').innerHTML = "";
    document.getElementById('actions').innerHTML = "";
    document.getElementById('submitBtn').disabled = false;
    window.scrollTo({ top: 0, behavior: 'smooth' });
}

function updateProgressBar() {
    const totalMateri = 10; // misalnya ada 10 materi C++
    let selesaiCount = 0;
    for (let i = 1; i <= totalMateri; i++) {
        if (localStorage.getItem(`cpp_materi${i}_selesai`) === 'true') selesaiCount++;
    }
    if (localStorage.getItem('quizcpp_selesai') === 'true') selesaiCount++;
    let progress = (selesaiCount / (totalMateri + 1)) * 100;
    localStorage.setItem('progressCpp', progress); // samakan dengan index C++
    window.dispatchEvent(new Event('storage')); 
}
</script>

</body>
</html>
